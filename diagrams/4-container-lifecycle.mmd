sequenceDiagram
    participant Modal
    participant Container
    participant RAGModel
    participant GPU as A10G GPU
    participant Volume as Modal Volume
    participant ChromaDB

    Modal->>Container: Start container (min_containers=1)
    Container->>GPU: Allocate GPU
    Container->>Volume: Mount /insurance-data
    
    Container->>RAGModel: Call @modal.enter()
    
    Note over RAGModel: Initialization phase
    RAGModel->>RAGModel: Load HuggingFaceEmbeddings (CUDA)
    RAGModel->>ChromaDB: Connect to remote service
    RAGModel->>RAGModel: Load Mistral-7B (GPU)
    RAGModel->>RAGModel: Create RemoteChromaRetriever class
    
    RAGModel-->>Container: Ready
    Container-->>Modal: Container warm and ready
    
    Note over Modal,Container: Container stays warm (min_containers=1)
    
    loop Handle requests
        Modal->>RAGModel: Invoke query() method
        RAGModel-->>Modal: Return result
    end
    
    Note over Modal,Container: Container persists until scaled down
