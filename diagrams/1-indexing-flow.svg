<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600">
  <defs>
    <style>
      .title { font: bold 20px sans-serif; fill: #1a1a1a; }
      .subtitle { font: 14px sans-serif; fill: #666; }
      .box { fill: #f0f7ff; stroke: #2563eb; stroke-width: 2; }
      .box-header { fill: #2563eb; }
      .box-text { font: 13px sans-serif; fill: #1a1a1a; }
      .box-header-text { font: bold 13px sans-serif; fill: white; }
      .arrow { stroke: #2563eb; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .metric { font: 11px monospace; fill: #059669; font-weight: bold; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2563eb" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="500" y="35" class="title" text-anchor="middle">RAG Indexing Flow - Document Processing</text>
  <text x="500" y="55" class="subtitle" text-anchor="middle">Insurance Product Documents â†’ Vector Database</text>
  
  <!-- Step 1: PDF Documents -->
  <rect x="50" y="100" width="180" height="100" class="box" rx="8"/>
  <rect x="50" y="100" width="180" height="35" class="box-header" rx="8"/>
  <text x="140" y="122" class="box-header-text" text-anchor="middle">1. PDF DOCUMENTS</text>
  <text x="140" y="155" class="box-text" text-anchor="middle">ðŸ“„ Insurance PDFs</text>
  <text x="140" y="175" class="box-text" text-anchor="middle">MetLife, AIG,</text>
  <text x="140" y="192" class="box-text" text-anchor="middle">Japan Post, Sonpo</text>
  
  <!-- Arrow 1 -->
  <path d="M 230 150 L 270 150" class="arrow"/>
  
  <!-- Step 2: Text Extraction -->
  <rect x="270" y="100" width="180" height="100" class="box" rx="8"/>
  <rect x="270" y="100" width="180" height="35" class="box-header" rx="8"/>
  <text x="360" y="122" class="box-header-text" text-anchor="middle">2. TEXT EXTRACTION</text>
  <text x="360" y="155" class="box-text" text-anchor="middle">PyPDF Loader</text>
  <text x="360" y="175" class="box-text" text-anchor="middle">Page-by-page</text>
  <text x="360" y="192" class="metric" text-anchor="middle">â†’ Documents</text>
  
  <!-- Arrow 2 -->
  <path d="M 450 150 L 490 150" class="arrow"/>
  
  <!-- Step 3: Text Chunking -->
  <rect x="490" y="100" width="200" height="100" class="box" rx="8"/>
  <rect x="490" y="100" width="200" height="35" class="box-header" rx="8"/>
  <text x="590" y="122" class="box-header-text" text-anchor="middle">3. TEXT CHUNKING</text>
  <text x="590" y="155" class="box-text" text-anchor="middle">RecursiveCharacterSplitter</text>
  <text x="590" y="175" class="box-text" text-anchor="middle">Chunk: 1000 chars</text>
  <text x="590" y="192" class="metric" text-anchor="middle">â†’ 3,766 chunks</text>
  
  <!-- Arrow 3 -->
  <path d="M 590 200 L 590 240" class="arrow"/>
  
  <!-- Step 4: Embedding Generation -->
  <rect x="490" y="240" width="200" height="100" class="box" rx="8"/>
  <rect x="490" y="240" width="200" height="35" class="box-header" rx="8"/>
  <text x="590" y="262" class="box-header-text" text-anchor="middle">4. EMBEDDINGS</text>
  <text x="590" y="295" class="box-text" text-anchor="middle">ðŸ“Š bge-small-en-v1.5</text>
  <text x="590" y="315" class="box-text" text-anchor="middle">384-dim vectors</text>
  <text x="590" y="332" class="metric" text-anchor="middle">GPU accelerated</text>
  
  <!-- Arrow 4 -->
  <path d="M 490 290 L 450 290" class="arrow"/>
  
  <!-- Step 5: ChromaDB Storage -->
  <rect x="250" y="240" width="200" height="100" class="box" rx="8"/>
  <rect x="250" y="240" width="200" height="35" class="box-header" rx="8"/>
  <text x="350" y="262" class="box-header-text" text-anchor="middle">5. VECTOR DB</text>
  <text x="350" y="295" class="box-text" text-anchor="middle">ðŸ’¾ ChromaDB</text>
  <text x="350" y="315" class="box-text" text-anchor="middle">Collection: langchain</text>
  <text x="350" y="332" class="metric" text-anchor="middle">Persisted locally</text>
  
  <!-- Arrow 5 -->
  <path d="M 350 340 L 350 380" class="arrow"/>
  
  <!-- Step 6: Ready for Queries -->
  <rect x="250" y="380" width="200" height="80" fill="#d1fae5" stroke="#059669" stroke-width="2" rx="8"/>
  <rect x="250" y="380" width="200" height="35" class="box-header" rx="8"/>
  <text x="350" y="402" class="box-header-text" text-anchor="middle">6. READY âœ…</text>
  <text x="350" y="430" class="box-text" text-anchor="middle">Fast similarity search</text>
  <text x="350" y="450" class="metric" text-anchor="middle">~400ms retrieval</text>
  
  <!-- Stats Box -->
  <rect x="50" y="380" width="180" height="150" fill="#fef3c7" stroke="#d97706" stroke-width="2" rx="8"/>
  <text x="140" y="405" class="box-text" text-anchor="middle" font-weight="bold">Statistics</text>
  <text x="60" y="430" class="box-text">Total Docs:</text>
  <text x="210" y="430" class="metric" text-anchor="end">3,766</text>
  <text x="60" y="455" class="box-text">Chunk Size:</text>
  <text x="210" y="455" class="metric" text-anchor="end">1,000</text>
  <text x="60" y="480" class="box-text">Overlap:</text>
  <text x="210" y="480" class="metric" text-anchor="end">200</text>
  <text x="60" y="505" class="box-text">Vector Dim:</text>
  <text x="210" y="505" class="metric" text-anchor="end">384</text>
  
  <!-- Tech Stack -->
  <rect x="50" y="550" width="900" height="40" fill="#f0f7ff" stroke="#2563eb" stroke-width="1" rx="6"/>
  <text x="500" y="575" class="box-text" text-anchor="middle">LangChain 0.3.7 â€¢ ChromaDB 0.5.20 â€¢ PyPDF 5.1.0 â€¢ sentence-transformers 3.3.0</text>
</svg>